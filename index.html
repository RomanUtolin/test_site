<!doctype html>
<html lang="ru">
<head>
    <style>
        input[type="text"] {
            width: 250px;
            padding: 5px;
            margin: 5px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        label {
            display: inline-block;
            width: 120px;
        }

        div {
            margin-bottom: 8px;
        }
    </style>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROMAN TEST SITE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ROMAN TEST SITE">
    <meta name="author" content="ROMAN TEST SITE">

    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            'gtm.start':
                new Date().getTime(), event: 'gtm.js'
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src =
            'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-P33K754W');</script>
    <!-- End Google Tag Manager -->

    <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase-messaging.js"></script>
    <script type="text/javascript" src="ak-push.js"></script>
    <link rel="manifest" href="manifest.json"></link>
</head>

<body>

<!-- Google Tag Manager (noscript) -->
<noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P33K754W"
            height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->

<h1>Добро пожаловать!</h1>

<div class="container">
    <p>PUSH-уведомление:</p>
    <label for="nameInput">Имя: </label><input type="text" id="nameInput" placeholder="Имя">

    <!-- Кнопка подписки -->
    <button type="button" id="init_sub">PUSH - подписка</button>

    <script>
        document.getElementById('init_sub').addEventListener('click', () => {
            const email = document.getElementById('nameInput').value.trim() + '_ex@example.com';
            new AKPush().initSubscription({email: email})

            //Отправляем в ga4
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                event: 'push_subscribe',
                email: email
            });
            <!--TODO: Печать в консольку  -->
            console.log("push_subscribe ", email);

        });
    </script>
</div>

<div class="container">
    <p>Действия с товарами:</p>
    <!-- id товара -->
    <div>
        <label for="session_id">session_id: </label>
        <input type="text" id="session_id" value="f48a41ae-9ca4-4ee9-b4a1-0b92a2c351c5" placeholder="id сессии">
    </div>

    <div>
        <label for="client_id">client_id: </label>
        <input type="text" id="client_id" value="43ed7ee2" placeholder="id клиента">
    </div>

    <div>
        <label for="offer_id">offer_id: </label>
        <input type="text" id="offer_id" value="1" placeholder="id товара">
    </div>

    <div>
        <label for="offer_name">offer_name: </label>
        <input type="text" id="offer_name" value="sony" placeholder="название товара">
    </div>

    <div>
        <label for="item_category">item_category: </label>
        <input type="text" id="item_category" value="Телевизоры" placeholder="категория товара">
    </div>

    <div>
        <label for="price">price: </label>
        <input type="text" id="price" value="1000" placeholder="цена">
    </div>

    <p>Избранное:</p>
    <!-- Кнопки -->
    <button type="button" id="add_to_wishlist">Добавить в избранное</button>
    <button type="button" id="remove_from_wishlist">Удалить из избранного</button>

    <script>
        document.getElementById('add_to_wishlist').addEventListener('click', () => {
            const offerId = document.getElementById('offer_id').value.trim();

            //Отправляем в ga4
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                event: 'add_to_wishlist',
                email: offerId
            });
            <!--TODO: Печать в консольку  -->
            console.log("add_to_wishlist ", offerId);

        });

        document.getElementById('remove_from_wishlist').addEventListener('click', () => {
            const offerId = document.getElementById('offer_id').value.trim();

            //Отправляем в ga4
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                event: 'remove_from_wishlist',
                email: offerId
            });
            <!--TODO: Печать в консольку  -->
            console.log("remove_from_wishlist ", offerId);

        });
    </script>

    <p>Корзина:</p>
    <!-- Кнопки -->
    <button type="button" id="add_to_cart">Добавить в корзину</button>
    <button type="button" id="remove_from_cart">Удалить из корзины</button>

    <script>
        document.getElementById('add_to_cart').addEventListener('click', () => {
            const offerId = document.getElementById('offer_id').value.trim();

            //Отправляем в ga4
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                event: 'add_to_cart',
                email: offerId
            });
            <!--TODO: Печать в консольку  -->
            console.log("add_to_cart ", offerId);

        });

        document.getElementById('remove_from_cart').addEventListener('click', () => {
            const offerId = document.getElementById('offer_id').value.trim();

            //Отправляем в ga4
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                event: 'remove_from_cart',
                email: offerId
            });
            <!--TODO: Печать в консольку  -->
            console.log("remove_from_cart ", offerId);

        });
    </script>

    <p>Заказы:</p>
    <!-- Кнопки -->
    <button type="button" id="purchase">Покупка</button>
    <button type="button" id="return">Возват</button>

    <script>
        document.getElementById('purchase').addEventListener('click', () => {
            const offerId = document.getElementById('offer_id').value.trim();

            //Отправляем в ga4
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                event: 'purchase',
                email: offerId
            });
            <!--TODO: Печать в консольку  -->
            console.log("purchase ", offerId);

        });

        document.getElementById('return').addEventListener('click', () => {
            const offerId = document.getElementById('offer_id').value.trim();

            //Отправляем в ga4
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                event: 'return',
                email: offerId
            });
            <!--TODO: Печать в консольку  -->
            console.log("return ", offerId);

        });
    </script>

    <p>Просмотры и клики:</p>
    <!-- Кнопки -->
    <button type="button" id="view_item">Просмотр товара</button>

    <script>
        document.getElementById('view_item').addEventListener('click', () => {
            const offerId = document.getElementById('offer_id').value.trim();

            //Отправляем в ga4
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                event: 'view_item',
                email: offerId
            });
            <!--TODO: Печать в консольку  -->
            console.log("view_item ", offerId);

        });

    </script>

</div>
</body>
</html>